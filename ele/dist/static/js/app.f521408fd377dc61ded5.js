webpackJsonp([1],{"3Zw2":function(t,s){},Jrxr:function(t,s){},LEXP:function(t,s){},MnvS:function(t,s){},NHnr:function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var a=e("7+uW"),i={name:"vheader",data:function(){return{showDetail:!1,mapType:["decrease","discount","special","invoice","guarantee"],star_size:48}},props:{seller:{type:Object,default:{}}},methods:{handleClose:function(){var t=this;this.showDetail=!1,setTimeout(function(){t.$refs.header.style.zIndex="-1"},500)},displayDetail:function(){this.showDetail=!0,this.$refs.header.style.zIndex="1"}}},n={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{ref:"header",staticClass:"header"},[e("div",{staticClass:"main-content"},[e("div",{staticClass:"shop-icon"},[e("img",{attrs:{src:t.seller.avatar,width:"64",height:"64"}})]),t._v(" "),e("div",{staticClass:"shop-text"},[e("div",{staticClass:"title"},[e("span"),t._v(" "),e("h1",[t._v(t._s(t.seller.name))])]),t._v(" "),e("div",{staticClass:"transport"},[e("span",[t._v(t._s(t.seller.description))]),t._v("/"),e("span",[t._v(t._s(t.seller.deliveryTime))]),t._v("分钟送达\n      ")]),t._v(" "),t.seller.supports?e("div",{staticClass:"sales_promotion"},[e("div",{class:t.mapType[t.seller.supports[0].type]},[e("span")]),t._v(" "),e("div",{staticClass:"text"},[t._v(t._s(t.seller.supports[0].description))]),t._v(" "),t.seller.supports?e("div",{staticClass:"promotion-counts",on:{click:t.displayDetail}},[e("span",[t._v(t._s(t.seller.supports.length))]),t._v("个"),e("span",{staticClass:"icon-keyboard_arrow_right"})]):t._e()]):t._e()]),t._v(" "),e("div",{staticClass:"bulletin",on:{click:t.displayDetail}},[t._m(0),t._v(" "),e("span",{staticClass:"icon-keyboard_arrow_right"}),t._v(" "),e("div",{staticClass:"text"},[t._v(t._s(t.seller.bulletin))])]),t._v(" "),e("div",{staticClass:"bg"},[e("img",{attrs:{src:t.seller.avatar}})])]),t._v(" "),e("transition",{attrs:{name:"fade"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.showDetail,expression:"showDetail"}],staticClass:"shop-detail"},[e("div",{staticClass:"detail-wrapper clearfix"},[e("div",{staticClass:"detail-content"},[e("div",{staticClass:"title"},[t._v(t._s(t.seller.name))]),t._v(" "),e("star",{attrs:{size:t.star_size,score:t.seller.score}}),t._v(" "),e("div",{staticClass:"info"},[e("div",{staticClass:"tit"},[e("span",{staticClass:"left"}),t._v(" "),e("span",{staticClass:"text"},[t._v("优惠信息")]),t._v(" "),e("span",{staticClass:"right"})]),t._v(" "),t.seller.supports?e("ul",{staticClass:"support"},t._l(t.seller.supports,function(s,a){return e("li",{key:a},[e("span",{class:t.mapType[s.type]}),t._v(" "),e("span",[t._v(t._s(s.description))])])})):t._e(),t._v(" "),e("div",{staticClass:"tit"},[e("span",{staticClass:"left"}),t._v(" "),e("span",{staticClass:"text"},[t._v("公告信息")]),t._v(" "),e("span",{staticClass:"right"})]),t._v(" "),e("div",{staticClass:"bulltin"},[t._v(t._s(t.seller.bulletin)+"\n              ")])])],1)]),t._v(" "),e("div",{staticClass:"close"},[e("span",{staticClass:"icon-close",on:{click:t.handleClose}})])])])],1)},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"icon"},[s("span",{staticClass:"bg-url"})])}]};var o={name:"App",data:function(){return{seller:{}}},created:function(){var t=this;this.axios.get("static/data.json").then(function(s){t.seller=s.data.seller}).catch(function(t){console.log(t)})},components:{VHeader:e("VU/8")(i,n,!1,function(t){e("wsFY")},"data-v-53e8a32d",null).exports}},r={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{attrs:{id:"app"}},[e("v-header",{attrs:{seller:t.seller}},[t._v("我是头部")]),t._v(" "),e("div",{staticClass:"content"},[e("div",{staticClass:"tab border-1px"},[e("div",{staticClass:"tab_item"},[e("router-link",{attrs:{to:{name:"goods"}}},[t._v("商品")])],1),t._v(" "),e("div",{staticClass:"tab_item"},[e("router-link",{attrs:{to:{name:"comments"}}},[t._v("评价")])],1),t._v(" "),e("div",{staticClass:"tab_item"},[e("router-link",{attrs:{to:{name:"shops"}}},[t._v("商家")])],1)]),t._v(" "),e("keep-alive",[e("router-view",{attrs:{seller:t.seller}})],1)],1)],1)},staticRenderFns:[]};var l=e("VU/8")(o,r,!1,function(t){e("br/k")},"data-v-50253f02",null).exports,c=e("/ocq"),d=e("pFYg"),v=e.n(d),u=e("GQaK"),p={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"separatorLine"})},staticRenderFns:[]};var m=e("VU/8")({name:"separatorLine"},p,!1,function(t){e("rBI6")},"data-v-a60d3674",null).exports,f={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"userComment"},[this._t("food"),this._v(" "),this._t("shop")],2)},staticRenderFns:[]};var h=e("VU/8")({name:"userComment"},f,!1,function(t){e("LEXP")},"data-v-67c9a935",null).exports,_={name:"foodComment",props:{foodRatings:{type:Array,default:[]}}},C={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"foodComment"},[e("ul",{staticClass:"comment-wrappper"},t._l(t.foodRatings,function(s,a){return e("li",{key:a,staticClass:"comment-item"},[e("div",{staticClass:"userinfo"},[e("div",{staticClass:"time"},[t._v(t._s(t._f("timeFilter")(s.rateTime)))]),t._v(" "),e("div",{staticClass:"name"},[e("span",{staticClass:"username"},[t._v(t._s(s.username))]),t._v(" "),e("div",{staticClass:"avatar"},[e("img",{attrs:{src:s.avatar}})])])]),t._v(" "),e("div",{staticClass:"commentinfo"},[e("div",{staticClass:"icon"},[e("span",{directives:[{name:"show",rawName:"v-show",value:s.rateType,expression:"comment.rateType"}],staticClass:"icon-thumb_down"}),t._v(" "),e("span",{directives:[{name:"show",rawName:"v-show",value:!s.rateType,expression:"!comment.rateType"}],staticClass:"icon-thumb_up"})]),t._v(" "),e("div",{staticClass:"content"},[t._v(t._s(s.text))])])])})),t._v(" "),t._m(0)])},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"hint"},[s("span",{staticClass:"left border-1px"}),this._v(" "),s("span",{staticClass:"text"},[this._v("没有更多评论了~")]),this._v(" "),s("span",{staticClass:"right border-1px"})])}]};var y=e("VU/8")(_,C,!1,function(t){e("wAOu")},"data-v-602bba96",null).exports,g={name:"shopComment",props:{shopRatings:{type:Array,default:[]}}},w={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"shopComment"},[e("ul",{staticClass:"comments-wrapper"},t._l(t.shopRatings,function(s,a){return e("li",{key:a,staticClass:"comment-item border-1px"},[e("div",{staticClass:"left"},[e("img",{staticClass:"avatar",attrs:{src:s.avatar}})]),t._v(" "),e("div",{staticClass:"right"},[e("div",{staticClass:"userName"},[t._v(t._s(s.username))]),t._v(" "),e("div",{staticClass:"score"},[e("span",{staticClass:"star-wrapper"},[e("star",{attrs:{size:"24",score:s.score}})],1),t._v(" "),e("span",{directives:[{name:"show",rawName:"v-show",value:s.deliveryTime,expression:"comment.deliveryTime"}],staticClass:"delivery-time"},[t._v(t._s(s.deliveryTime)+"分钟送达")])]),t._v(" "),e("div",{staticClass:"comment-text"},[t._v(t._s(s.text))]),t._v(" "),e("div",{staticClass:"recommend"},[e("div",{staticClass:"icon"},[e("span",{directives:[{name:"show",rawName:"v-show",value:s.rateType,expression:"comment.rateType"}],staticClass:"icon-thumb_down"}),t._v(" "),e("span",{directives:[{name:"show",rawName:"v-show",value:!s.rateType,expression:"!comment.rateType"}],staticClass:"icon-thumb_up"})]),t._v(" "),e("div",{staticClass:"content"},t._l(s.recommend,function(s){return e("span",{staticClass:"content-item"},[t._v(t._s(s))])}))])])])})),t._v(" "),t._m(0)])},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"hint"},[s("span",{staticClass:"left border-1px"}),this._v(" "),s("span",{staticClass:"text"},[this._v("没有更多评论了~")]),this._v(" "),s("span",{staticClass:"right border-1px"})])}]};var j={name:"commentType",data:function(){return{all:2,good:0,bad:1}},components:{UserComment:h,FoodComment:y,ShopComment:e("VU/8")(g,w,!1,function(t){e("eco2")},"data-v-2352d736",null).exports},props:{foodRatings:{type:Array,default:[]},commentType:{type:Array,default:["推荐","吐槽","全部"]},onlyContent:{type:Boolean,default:!1},selectType:{type:Number,default:2},commentFor:{type:String,default:"food"}},methods:{selecthandle:function(t){this.selectType!==t&&this.$emit("changeSelectType",t)},toggleOnlyContent:function(){this.$emit("changeOnlyContent")}},filters:{ratingsFilter:function(t,s){if(2===s)return t;var e=[];return t.forEach(function(t){Number(t.rateType)===s&&e.push(t)}),e},contentFilter:function(t,s){if(!s)return t;var e=[];return t.forEach(function(t){""!==t.text&&e.push(t)}),e}}},F={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("div",{staticClass:"commentType"},[e("div",{staticClass:"selectType"},[e("span",{staticClass:"all",class:{active:t.all===t.selectType},on:{click:function(s){t.selecthandle(t.all)}}},[t._v(t._s(t.commentType[t.all])+" "),e("i",{staticClass:"count"},[t._v(t._s(t.foodRatings.length))])]),t._v(" "),e("span",{staticClass:"good",class:{active:t.good===t.selectType},on:{click:function(s){t.selecthandle(t.good)}}},[t._v(t._s(t.commentType[t.good])+" "),e("i",{staticClass:"count"},[t._v(t._s(t._f("ratingsFilter")(t.foodRatings,t.good).length))])]),t._v(" "),e("span",{staticClass:"bad",class:{active:t.bad===t.selectType},on:{click:function(s){t.selecthandle(t.bad)}}},[t._v(t._s(t.commentType[t.bad])+" "),e("i",{staticClass:"count"},[t._v(t._s(t._f("ratingsFilter")(t.foodRatings,t.bad).length))])])]),t._v(" "),e("div",{staticClass:"onlyContent"},[e("span",{staticClass:"icon-check_circle",class:{active:t.onlyContent},on:{click:t.toggleOnlyContent}}),t._v(" "),e("span",{staticClass:"content"},[t._v("只看有内容的评价")])])]),t._v(" "),e("div",{staticClass:"commentContent"},[e("user-comment",["food"===t.commentFor?e("food-comment",{attrs:{slot:t.commentFor,foodRatings:t._f("contentFilter")(t._f("ratingsFilter")(t.foodRatings,t.selectType),t.onlyContent)},slot:t.commentFor}):t._e(),t._v(" "),"shop"===t.commentFor?e("shop-comment",{attrs:{slot:t.commentFor,shopRatings:t._f("contentFilter")(t._f("ratingsFilter")(t.foodRatings,t.selectType),t.onlyContent)},slot:t.commentFor}):t._e()],1)],1)])},staticRenderFns:[]};var b=e("VU/8")(j,F,!1,function(t){e("MnvS")},"data-v-24297f5a",null).exports,x={name:"foodDetail",components:{CommentType:b,SeparatorLine:m},data:function(){return{showFlag:!1,FoodDetailScroll:{},firstClick:!1,commentType:["推荐","吐槽","全部"],onlyContent:!1,selectType:1,commentFor:"food"}},props:{selectedFood:{type:Object,default:{}}},computed:{calCartShow:function(){return this.selectedFood.count&&0!==this.selectedFood.count?(this._setFirstClick(!0),!0):(this._setFirstClick(!1),!1)}},methods:{show:function(){this.showFlag=!0},hidden:function(){this.showFlag=!1},_initScroll:function(){this.FoodDetailScroll=new u.a(".foodDetail",{scrollY:!0,click:!0})},addCart:function(){this.firstClick=!0,this.$refs.calfood.addFood()},_setFirstClick:function(t){this.firstClick=t},_changeSelectType:function(t){this.selectType=t},_changeOnlyContent:function(){this.onlyContent=!this.onlyContent},_toFather:function(t,s){this.$emit("listenFoodCount",t,s)}}},T={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("transition",{attrs:{name:"move"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.showFlag,expression:"showFlag"}],ref:"foodDetail",staticClass:"foodDetail"},[e("div",{staticClass:"headerImg"},[e("img",{attrs:{src:t.selectedFood.image,alt:"商品"}}),t._v(" "),e("span",{staticClass:"go-back icon-arrow_lift",on:{click:t.hidden}})]),t._v(" "),e("div",{staticClass:"foodInfo"},[e("div",{staticClass:"title"},[t._v(t._s(t.selectedFood.name))]),t._v(" "),e("div",{staticClass:"sell"},[e("span",{staticClass:"count"},[t._v("月售"+t._s(t.selectedFood.sellCount)+"份")]),e("span",{staticClass:"rating"},[t._v("好评率"+t._s(t.selectedFood.sellCount)+"%")])]),t._v(" "),e("div",{staticClass:"price"},[e("span",{staticClass:"now"},[e("i",{staticClass:"ni"},[t._v("¥")]),t._v(t._s(t.selectedFood.price))]),t._v(" "),t.selectedFood.oldPrice>0?e("span",{staticClass:"old"},[e("i",{staticClass:"oi"},[t._v("¥")]),t._v(t._s(t.selectedFood.oldPrice))]):t._e()]),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:!t.calCartShow&&!t.firstClick,expression:"!calCartShow && !firstClick"}],staticClass:"addCart",on:{click:function(s){return s.stopPropagation(),s.preventDefault(),t.addCart(s)}}},[t._v("加入购物车")]),t._v(" "),e("cal-food",{directives:[{name:"show",rawName:"v-show",value:t.calCartShow||t.firstClick,expression:"calCartShow || firstClick"}],ref:"calfood",staticClass:"calfood-wrapper",attrs:{food:t.selectedFood},on:{listenFoodCount:t._toFather}})],1),t._v(" "),e("separator-line",{directives:[{name:"show",rawName:"v-show",value:t.selectedFood.info,expression:"selectedFood.info"}]}),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.selectedFood.info,expression:"selectedFood.info"}],staticClass:"foodDes"},[e("h1",{staticClass:"title"},[t._v("商品介绍")]),t._v(" "),e("p",{staticClass:"content"},[t._v(t._s(t.selectedFood.info))])]),t._v(" "),e("separator-line"),t._v(" "),e("div",{staticClass:"comment-wrapper"},[e("div",{staticClass:"comment-header"},[e("div",{staticClass:"title"},[t._v("商品评价")]),t._v(" "),e("comment-type",{attrs:{foodRatings:t.selectedFood.ratings||[],commentType:t.commentType,onlyContent:t.onlyContent,selectType:t.selectType,commentFor:t.commentFor},on:{changeSelectType:t._changeSelectType,changeOnlyContent:t._changeOnlyContent}})],1)])],1)])},staticRenderFns:[]};var k=e("VU/8")(x,T,!1,function(t){e("dSQC")},"data-v-38ebf0d1",null).exports,S={name:"typeNumber",props:{foodTypeNum:{type:Number,default:0},foods:{type:Array,default:[]}},watch:{foods:{handler:function(t,s){this.$emit("listenTypeNum")},deep:!0}}},N={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"typeNumber"},[this._v(this._s(this.foodTypeNum))])},staticRenderFns:[]};var E={name:"goods",components:{CommentType:b,foodDetail:k,typeNumber:e("VU/8")(S,N,!1,function(t){e("O8TL")},"data-v-75c9f40e",null).exports},data:function(){return{goods:[],mapType:["decrease","discount","special","invoice","guarantee"],menuScroll:{},foodScroll:{},heightList:[],scrollY:0,selectFood:[],foodDet:{},foodTypeName:"",showTypenum:!1,menuScrollY:0,flag:!0}},created:function(){var t=this;this.axios.get("static/data.json").then(function(s){t.goods=s.data.goods,t.$nextTick(function(){t._initScroll(),t._calListHeight(),t._foodScrollListener(),t._menuScrollListener()})}).catch(function(t){console.log(t)})},props:{seller:{type:Object,default:{}}},watch:{selectFood:{handler:function(t,s){for(var e=this.$refs.typeNumber,a=0;a<e.length;a++)e[a].innerHTML>0?(console.log(e[a].innerHTML),e[a].setAttribute("style","display:block")):e[a].setAttribute("style","display:none")},deep:!0}},computed:{currentIndex:function(){for(var t=0;t<this.heightList.length;t++){var s=this.heightList[t],e=this.heightList[t+1];if(!e||Math.abs(this.scrollY)>=s&&e>Math.abs(this.scrollY))return t}},fixedTitle:function(){return this.scrollY>-25?"":this.goods[this.currentIndex]?this.goods[this.currentIndex].name:""}},methods:{menuClick:function(t,s){if(s._constructed){for(var e=this.$refs.menuScroll.getElementsByTagName("li"),a=0;a<e.length;a++)e[a].classList.remove("active");var i=this.$refs.foodScroll.getElementsByClassName("food-item-hook")[t];e[t].classList.add("active"),this.foodScroll.scrollToElement(i,300)}},_initScroll:function(){this.menuScroll=new u.a(".menu-wrapper",{scrollY:!0,click:!0,probeType:3}),this.foodScroll=new u.a(".food-wrapper",{scrollY:!0,click:!0,probeType:3})},_calListHeight:function(){var t=this.$refs.foodScroll.getElementsByClassName("food-item-hook"),s=0;this.heightList.push(s);for(var e=0;e<t.length;e++)s+=t[e].clientHeight,this.heightList.push(s)},_foodScrollListener:function(){var t=this;this.foodScroll.on("scroll",function(s){t.scrollY=Math.round(s.y),t._fixedUpMove();for(var e=0,a=0;a<t.currentIndex;a++)e+=54;var i=t.menuScrollY,n=e-(t.$refs.menuScroll.offsetHeight-54),o=e+i,r=t.$refs.menuScroll.getElementsByClassName("menu-item-hook")[t.currentIndex];n>0?t.menuScroll.scrollToElement(r,100):o<0&&t.menuScroll.scrollToElement(r,100)})},_menuScrollListener:function(){var t=this;this.menuScroll.on("scroll",function(s){t.menuScrollY=Math.round(s.y)})},_fixedUpMove:function(){if(this.$refs.fixed){var t=this.heightList[this.currentIndex+1];!t||Math.abs(this.scrollY)>=t-25&&t>Math.abs(this.scrollY)?this.$refs.fixed.style.top="-"+(Math.abs(this.scrollY)-t+25)+"px":this.$refs.fixed.style.top="0px"}},_calFood:function(){var t=this,s=void 0,e=void 0,a=void 0;1===arguments.length?(a=arguments[0][0],s=arguments[0][1],e=arguments[0][2]):(a=arguments[0],s=arguments[1][0],e=arguments[1][1]);var i=!0;s.count=e,s.typeName=a,this.selectFood.forEach(function(a,n){if("object"===(void 0===a?"undefined":v()(a))&&a.name===s.name)return a.count=e,a.count>0?(i=!1,0):(i=!1,t.selectFood.splice(n,1),0)}),i&&this.selectFood.push(s)},selectedFood:function(t,s){this.foodDet=t,this.foodTypeName=s,this.$refs.foodDetail.show()},_showTypeNum:function(t,s){var e=this.$refs.typeNumber,a=0;this.selectFood.forEach(function(s){s.typeName===t&&(a+=s.count)}),a?e[s].setAttribute("style","display:block"):e[s].setAttribute("style","display:none")}},filters:{foodTypeFilter:function(t,s){var e=0;return t.forEach(function(t){t.typeName===s&&(e+=t.count)}),e}}},P={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"goods"},[e("div",{ref:"menuScroll",staticClass:"menu-wrapper"},[e("ul",{staticClass:"memus"},t._l(t.goods,function(s,a){return e("li",{key:a,staticClass:"menu-item border-1px menu-item-hook",class:{active:t.currentIndex===a},on:{click:function(s){t.menuClick(a,s)}}},[e("div",{staticClass:"item_box"},[e("span",{staticClass:"text"},[t.mapType[s.type]?e("span",{staticClass:"icon",class:t.mapType[s.type]}):t._e(),t._v("\n            "+t._s(s.name))])]),t._v(" "),e("div",{ref:"typeNumber",refInFor:!0,staticClass:"commentType-wrapper"},[e("type-number",{attrs:{foodTypeNum:t._f("foodTypeFilter")(t.selectFood,s.name),foods:t.selectFood},on:{listenTypeNum:function(e){t._showTypeNum(s.name,a)}}})],1)])}))]),t._v(" "),e("div",{ref:"foodScroll",staticClass:"food-wrapper"},[t.fixedTitle?e("div",{ref:"fixed",staticClass:"index-list-fixed"},[t._v("\n      "+t._s(t.fixedTitle)+"\n    ")]):t._e(),t._v(" "),e("ul",{staticClass:"foods-type"},t._l(t.goods,function(s,a){return e("li",{key:a,staticClass:"type-item food-item-hook"},[e("div",{staticClass:"food-type"},[t._v(t._s(s.name))]),t._v(" "),e("ul",{staticClass:"foods"},t._l(s.foods,function(a,i){return e("li",{key:i,staticClass:"food-item border-1px",on:{click:function(e){e.stopPropagation(),e.preventDefault(),t.selectedFood(a,s.name)}}},[e("div",{staticClass:"food-left"},[e("img",{attrs:{src:a.icon}})]),t._v(" "),e("div",{staticClass:"food-right"},[e("div",{staticClass:"title"},[t._v(t._s(a.name))]),t._v(" "),a.description?e("div",{staticClass:"des"},[t._v(t._s(a.description))]):t._e(),t._v(" "),e("div",{staticClass:"sell"},[e("span",{staticClass:"count"},[t._v("月售"+t._s(a.sellCount)+"份")]),e("span",{staticClass:"rating"},[t._v("好评率"+t._s(a.sellCount)+"%")])]),t._v(" "),e("div",{staticClass:"price"},[e("span",{staticClass:"now"},[e("i",{staticClass:"ni"},[t._v("¥")]),t._v(t._s(a.price))]),t._v(" "),a.oldPrice>0?e("span",{staticClass:"old"},[e("i",{staticClass:"oi"},[t._v("¥")]),t._v(t._s(a.oldPrice))]):t._e()])]),t._v(" "),e("cal-food",{staticClass:"calfood-wrapper",attrs:{food:a},on:{listenFoodCount:function(e){t._calFood(s.name,arguments)}}})],1)}))])}))]),t._v(" "),e("food-detail",{ref:"foodDetail",attrs:{selectedFood:t.foodDet},on:{listenFoodCount:function(s){t._calFood(t.foodTypeName,arguments)}}}),t._v(" "),e("div",{staticClass:"shoppcart-wrapper"},[e("shopping-cart",{attrs:{deliveryPrice:t.seller.deliveryPrice,minPrice:t.seller.minPrice,selectFood:t.selectFood},on:{listenFoodCount:function(s){t._calFood(arguments)}}})],1)],1)},staticRenderFns:[]};var z=e("VU/8")(E,P,!1,function(t){e("jB41")},"data-v-7b9fbaf8",null).exports,R={name:"comments",components:{CommentType:b,SeparatorLine:m},data:function(){return{comments:[],commentType:["满意","不满意","全部"],onlyContent:!1,selectType:2,commentFor:"shop",commentScroll:{}}},created:function(){var t=this;this.$nextTick(function(){t.commentScroll=new u.a(".comments",{scrollY:!0,click:!0})}),this.axios.get("static/data.json").then(function(s){t.comments=s.data.ratings}).catch(function(t){console.log(t)})},props:{seller:{type:Object,default:{}}},methods:{_changeOnlyContent:function(){this.onlyContent=!this.onlyContent},_changeSelectType:function(t){this.selectType=t}}},L={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"comments"},[e("div",{staticClass:"commets-content"},[e("div",{staticClass:"scores-wrapper"},[e("div",{staticClass:"left"},[e("div",{staticClass:"composite-score"},[t._v(t._s(t.seller.score))]),t._v(" "),e("div",{staticClass:"des"},[t._v("综合评分")]),t._v(" "),e("div",{staticClass:"compare"},[t._v("高于周边商家"+t._s(t.seller.rankRate)+"%")])]),t._v(" "),e("div",{staticClass:"right"},[e("div",{staticClass:"taste"},[e("span",{staticClass:"name"},[t._v("食物味道")]),t._v(" "),e("div",{staticClass:"star-wrapper"},[e("star",{attrs:{score:t.seller.foodScore,size:"36"}})],1),t._v(" "),e("span",{staticClass:"score"},[t._v(t._s(t.seller.foodScore))])]),t._v(" "),e("div",{staticClass:"package"},[e("span",{staticClass:"name"},[t._v("服务态度")]),t._v(" "),e("div",{staticClass:"star-wrapper"},[e("star",{attrs:{score:t.seller.serviceScore,size:"36"}})],1),t._v(" "),e("span",{staticClass:"score"},[t._v(t._s(t.seller.serviceScore))])]),t._v(" "),e("div",{staticClass:"delivery"},[e("span",{staticClass:"name"},[t._v("送达时间")]),t._v(" "),e("span",{staticClass:"time"},[t._v(t._s(t.seller.deliveryTime)+"分钟")])])])]),t._v(" "),e("separator-line"),t._v(" "),e("comment-type",{attrs:{foodRatings:t.comments||[],commentType:t.commentType,onlyContent:t.onlyContent,selectType:t.selectType,commentFor:t.commentFor},on:{changeSelectType:t._changeSelectType,changeOnlyContent:t._changeOnlyContent}})],1)])},staticRenderFns:[]};var $=e("VU/8")(R,L,!1,function(t){e("Jrxr")},"data-v-4d4973ef",null).exports,D={name:"shops",components:{SeparatorLine:m},data:function(){return{mapType:["decrease","discount","special","invoice","guarantee"],isFavorite:!1,shopScroll:{},imageScroll:null}},created:function(){var t=this;this.$nextTick(function(){t.shopScroll=new u.a(".shops",{scrollY:!0,click:!0}),t._initImgScroll()})},props:{seller:{type:Object,default:{}}},watch:{seller:{handler:function(t,s){this._initImgScroll(),this._addImagesWidth(t.pics.length)},deep:!0}},methods:{isAddFavorite:function(t){t._constructed&&(this.isFavorite=!this.isFavorite)},_addImagesWidth:function(t){for(var s=this.$refs.imagesWrapper,e=0,a=0;a<t;a++)e+=120,a!==t&&(e+=6);s.setAttribute("style","width: "+e+"px")},_initImgScroll:function(){this.imageScroll||(this.imageScroll=new u.a(".images",{scrollX:!0,click:!0}))}}},O={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"shops"},[e("div",{staticClass:"shops-content"},[e("div",{staticClass:"basic-info"},[e("div",{staticClass:"up-wrapper border-1px"},[e("div",{staticClass:"left"},[e("div",{staticClass:"shop-name"},[t._v(t._s(t.seller.name))]),t._v(" "),e("div",{staticClass:"star-wrapper"},[e("star",{attrs:{size:"36",score:t.seller.score}})],1),t._v(" "),e("span",{staticClass:"ratingCount"},[t._v("("+t._s(t.seller.ratingCount)+")")]),t._v(" "),e("span",{staticClass:"sellCount"},[t._v("月售"+t._s(t.seller.sellCount)+"单")])]),t._v(" "),e("div",{staticClass:"right",on:{click:function(s){return s.stopPropagation(),s.preventDefault(),t.isAddFavorite(s)}}},[e("span",{staticClass:"icon-favorite",class:{favorite:t.isFavorite}}),t._v(" "),t.isFavorite?e("div",{staticClass:"text"},[t._v("已收藏")]):e("div",{staticClass:"text"},[t._v("添加收藏")])])]),t._v(" "),e("div",{staticClass:"down-wrapper"},[e("div",{staticClass:"minPrice"},[e("div",{staticClass:"des"},[t._v("起送价")]),t._v(" "),e("div",{staticClass:"data"},[e("i",{staticClass:"value"},[t._v(t._s(t.seller.minPrice))]),t._v("元")])]),t._v(" "),e("div",{staticClass:"deliveryPrice"},[e("div",{staticClass:"des"},[t._v("商家配送")]),t._v(" "),e("div",{staticClass:"data"},[e("i",{staticClass:"value"},[t._v(t._s(t.seller.deliveryPrice))]),t._v("元")])]),t._v(" "),e("div",{staticClass:"deliveryTime"},[e("div",{staticClass:"des"},[t._v("平均配送时间")]),t._v(" "),e("div",{staticClass:"data"},[e("i",{staticClass:"value"},[t._v(t._s(t.seller.deliveryTime))]),t._v("分钟")])])])]),t._v(" "),e("separator-line"),t._v(" "),e("div",{staticClass:"bulletin-support"},[e("div",{staticClass:"bulletin"},[e("div",{staticClass:"title"},[t._v("公共与活动")]),t._v(" "),e("p",{staticClass:"content"},[t._v(t._s(t.seller.bulletin))])]),t._v(" "),e("div",{staticClass:"support"},[e("ul",{staticClass:"support-wrapper"},t._l(t.seller.supports,function(s,a){return e("li",{key:a,staticClass:"support-item"},[e("span",{staticClass:"icon",class:t.mapType[s.type]}),t._v(" "),e("span",{staticClass:"des"},[t._v(t._s(s.description))])])}))])]),t._v(" "),e("separator-line"),t._v(" "),e("div",{staticClass:"shop-view"},[e("div",{staticClass:"title"},[t._v("商家实景")]),t._v(" "),e("div",{staticClass:"images"},[e("ul",{ref:"imagesWrapper",staticClass:"images-wrapper"},t._l(t.seller.pics,function(t){return e("li",{staticClass:"image-item"},[e("img",{staticClass:"img",attrs:{src:t}})])}))])]),t._v(" "),e("separator-line"),t._v(" "),e("div",{staticClass:"shop-info"},[e("div",{staticClass:"title"},[t._v("商家信息")]),t._v(" "),e("div",{staticClass:"infos"},[e("ul",{staticClass:"info-wrapper"},t._l(t.seller.infos,function(s){return e("li",{staticClass:"info-item"},[t._v("\n            "+t._s(s)+"\n          ")])}))])])],1)])},staticRenderFns:[]};var H=e("VU/8")(D,O,!1,function(t){e("RScf")},"data-v-56d81655",null).exports;a.a.use(c.a);var M=new c.a({linkActiveClass:"tab-active",routes:[{path:"/",redirect:{name:"goods"}},{path:"/goods",name:"goods",component:z},{path:"/comments",name:"comments",component:$},{path:"/shops",name:"shops",component:H}]}),U=e("mtWM"),I=e.n(U),V=(e("cN2K"),{name:"star",props:["size","score"],computed:{starType:function(){return"star-"+this.size},starClasss:function(){for(var t=[],s=Math.floor(2*this.score)/2,e=s%1!=0,a=parseInt(s),i=0;i<a;i++)t.push("on");for(e&&t.push("half");t.length<5;)t.push("off");return t}}}),Y={render:function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"star",class:this.starType},this._l(this.starClasss,function(t,e){return s("span",{key:e,staticClass:"staritem",class:t})}))},staticRenderFns:[]};var A=e("VU/8")(V,Y,!1,function(t){e("h0NZ")},"data-v-063e4b35",null).exports,B={name:"shoppingcart",data:function(){return{show:!1}},methods:{toggleCart:function(){0===this.totalCounts?this.setShow(!1):this.show=!this.show},clearAll:function(){this.$refs.calFood.forEach(function(t){t.clearFood()})},setShow:function(t){this.show=t},_toFather:function(t,s){this.$emit("listenFoodCount",t.typeName,t,s)}},computed:{resultHtml:function(){var t="";if(0===this.totalPrice)t="&yen;"+this.minPrice+"起送";else if(this.totalPrice<this.minPrice){t="还差&yen;"+(this.minPrice-this.totalPrice)+"起送"}else t="去结算";return t},totalCounts:function(){var t=0;return this.selectFood.forEach(function(s){t+=s.count}),0===t&&this.setShow(!1),t},totalPrice:function(){var t=0;return this.selectFood.forEach(function(s){t+=s.count*s.price}),t}},watch:{resultHtml:function(t,s){this.$refs.resultHtml.innerHTML=t}},props:{deliveryPrice:{type:Number,default:0},minPrice:{type:Number,default:0},selectFood:{type:Array,default:[]}},mounted:function(){this.$refs.resultHtml.innerHTML=this.resultHtml}},q={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"shoppingcart"},[e("div",{staticClass:"cart-left",on:{click:function(s){return s.stopPropagation(),s.preventDefault(),t.toggleCart(s)}}},[e("div",{staticClass:"cart-box"},[e("div",{staticClass:"cart",class:{highLight:t.totalCounts>0}},[e("span",{staticClass:"icon-shopping_cart"})])]),t._v(" "),e("div",{staticClass:"price",class:{highLight:t.totalCounts>0}},[t._v("¥ "+t._s(t.totalPrice))]),t._v(" "),e("div",{staticClass:"others"},[t._v("另需配送费 ¥ "+t._s(t.deliveryPrice)+"元")]),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.totalCounts>0,expression:"totalCounts > 0"}],staticClass:"foodCounts"},[t._v(t._s(t.totalCounts))])]),t._v(" "),e("div",{ref:"resultHtml",staticClass:"cart-right",class:{highLight:this.totalPrice>=this.minPrice&&this.totalPrice}},[t._v("¥"+t._s(t.minPrice)+"起送")]),t._v(" "),e("transition",{attrs:{name:"cart-slide"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"cart-content",on:{click:function(s){return s.stopPropagation(),s.preventDefault(),t.toggleCart(s)}}},[e("div",{staticClass:"cart-content-wrapper"},[e("div",{staticClass:"title border-1px"},[e("span",{staticClass:"name"},[t._v("购物车")]),t._v(" "),e("div",{staticClass:"clearAll",on:{click:function(s){return s.stopPropagation(),s.preventDefault(),t.clearAll(s)}}},[t._v("清空")])]),t._v(" "),e("div",{staticClass:"content-warpper"},[e("ul",{staticClass:"content"},t._l(t.selectFood,function(s,a){return e("li",{directives:[{name:"show",rawName:"v-show",value:s.count,expression:"fooditem.count"}],key:a,staticClass:"content-item border-1px"},[e("div",{staticClass:"food-name"},[t._v(t._s(s.name))]),t._v(" "),e("cal-food",{ref:"calFood",refInFor:!0,staticClass:"calfood-wrapper",attrs:{food:s},on:{listenFoodCount:t._toFather}}),t._v(" "),e("div",{staticClass:"price"},[e("span",{staticClass:"now"},[e("i",{staticClass:"ni"},[t._v("¥")]),t._v(t._s(s.price*s.count))]),t._v(" "),s.oldPrice>0?e("span",{staticClass:"old"},[e("i",{staticClass:"oi"},[t._v("¥")]),t._v(t._s(s.oldPrice*s.count))]):t._e()])],1)}))])])])])],1)},staticRenderFns:[]};var X=e("VU/8")(B,q,!1,function(t){e("3Zw2")},"data-v-948fb78e",null).exports,W={name:"calfood",data:function(){return{show:!1,numberShow:this.food.count>0}},props:{food:{type:Object,default:{}}},watch:{food:{handler:function(t,s){this.numberShow=t.count>0},deep:!0}},created:function(){this.food.count||a.a.set(this.food,"count",0)},methods:{addFood:function(){var t=this;this.show=!0;var s=this.food.count;++s>0&&(this.numberShow=!0),setTimeout(function(){t.$emit("listenFoodCount",t.food,s)},500)},decreaseFood:function(){var t=this.food.count;this.$emit("listenFoodCount",this.food,--t),0===t&&(this.numberShow=!1)},beforeDropEnter:function(t,s){t.style.webkitTransform="translate3d(0, 0, 0)",t.style.transform="translate3d(0, 0, 0)";var e=t.getElementsByClassName("inner")[0];e.style.webkitTransform="translate3d(0, 0, 0)",e.style.transform="translate3d(0, 0, 0)"},afterDropEnter:function(){this.show=!1},dropEnter:function(t,s){var e=t.getBoundingClientRect().left-12-25,a=window.innerHeight-t.getBoundingClientRect().top-60;this.$nextTick(function(){t.style.webkitTransform="translate3d(0, "+a+"px, 0)",t.style.transform="translate3d(0, "+a+"px, 0)";var i=t.getElementsByClassName("inner")[0];i.style.webkitTransform="translate3d(-"+e+"px, 0, 0)",i.style.transform="translate3d(-"+e+"px, 0, 0)",t.addEventListener("transitionend",s)})},clearFood:function(){this.$emit("listenFoodCount",this.food,0)}}},K={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"calfood"},[e("transition",{attrs:{name:"move"}},[e("span",{directives:[{name:"show",rawName:"v-show",value:t.numberShow,expression:"numberShow"}],staticClass:"icon-remove_circle_outline",on:{click:function(s){return s.stopPropagation(),s.preventDefault(),t.decreaseFood(s)}}})]),t._v(" "),e("span",{staticClass:"number"},[e("i",{directives:[{name:"show",rawName:"v-show",value:t.food.count>0,expression:"food.count > 0"}]},[t._v(t._s(t.food.count))])]),t._v(" "),e("span",{staticClass:"icon-add_circle",on:{click:function(s){return s.stopPropagation(),s.preventDefault(),t.addFood(s)}}}),t._v(" "),e("transition",{attrs:{name:"drop"},on:{"after-enter":t.afterDropEnter,enter:t.dropEnter,"before-enter":t.beforeDropEnter}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"drop-wrapper"},[e("div",{staticClass:"inner"})])])],1)},staticRenderFns:[]};var J=e("VU/8")(W,K,!1,function(t){e("w17N")},"data-v-6062d6ce",null).exports,Z=(e("oPmM"),e("PJh5")),G=e.n(Z);a.a.config.productionTip=!1,a.a.prototype.axios=I.a,a.a.prototype.moment=G.a,a.a.component("star",A),a.a.component("shoppingCart",X),a.a.component("calFood",J),a.a.filter("timeFilter",function(t){return G()(t).format("YYYY-MM-DD HH:mm")}),new a.a({el:"#app",router:M,components:{App:l},template:"<App/>"})},O8TL:function(t,s){},RScf:function(t,s){},"br/k":function(t,s){},cN2K:function(t,s){},dSQC:function(t,s){},eco2:function(t,s){},h0NZ:function(t,s){},jB41:function(t,s){},oPmM:function(t,s){},rBI6:function(t,s){},uslO:function(t,s,e){var a={"./af":"3CJN","./af.js":"3CJN","./ar":"3MVc","./ar-dz":"tkWw","./ar-dz.js":"tkWw","./ar-kw":"j8cJ","./ar-kw.js":"j8cJ","./ar-ly":"wPpW","./ar-ly.js":"wPpW","./ar-ma":"dURR","./ar-ma.js":"dURR","./ar-sa":"7OnE","./ar-sa.js":"7OnE","./ar-tn":"BEem","./ar-tn.js":"BEem","./ar.js":"3MVc","./az":"eHwN","./az.js":"eHwN","./be":"3hfc","./be.js":"3hfc","./bg":"lOED","./bg.js":"lOED","./bm":"hng5","./bm.js":"hng5","./bn":"aM0x","./bn.js":"aM0x","./bo":"w2Hs","./bo.js":"w2Hs","./br":"OSsP","./br.js":"OSsP","./bs":"aqvp","./bs.js":"aqvp","./ca":"wIgY","./ca.js":"wIgY","./cs":"ssxj","./cs.js":"ssxj","./cv":"N3vo","./cv.js":"N3vo","./cy":"ZFGz","./cy.js":"ZFGz","./da":"YBA/","./da.js":"YBA/","./de":"DOkx","./de-at":"8v14","./de-at.js":"8v14","./de-ch":"Frex","./de-ch.js":"Frex","./de.js":"DOkx","./dv":"rIuo","./dv.js":"rIuo","./el":"CFqe","./el.js":"CFqe","./en-au":"Sjoy","./en-au.js":"Sjoy","./en-ca":"Tqun","./en-ca.js":"Tqun","./en-gb":"hPuz","./en-gb.js":"hPuz","./en-ie":"ALEw","./en-ie.js":"ALEw","./en-il":"QZk1","./en-il.js":"QZk1","./en-nz":"dyB6","./en-nz.js":"dyB6","./eo":"Nd3h","./eo.js":"Nd3h","./es":"LT9G","./es-do":"7MHZ","./es-do.js":"7MHZ","./es-us":"INcR","./es-us.js":"INcR","./es.js":"LT9G","./et":"XlWM","./et.js":"XlWM","./eu":"sqLM","./eu.js":"sqLM","./fa":"2pmY","./fa.js":"2pmY","./fi":"nS2h","./fi.js":"nS2h","./fo":"OVPi","./fo.js":"OVPi","./fr":"tzHd","./fr-ca":"bXQP","./fr-ca.js":"bXQP","./fr-ch":"VK9h","./fr-ch.js":"VK9h","./fr.js":"tzHd","./fy":"g7KF","./fy.js":"g7KF","./gd":"nLOz","./gd.js":"nLOz","./gl":"FuaP","./gl.js":"FuaP","./gom-latn":"+27R","./gom-latn.js":"+27R","./gu":"rtsW","./gu.js":"rtsW","./he":"Nzt2","./he.js":"Nzt2","./hi":"ETHv","./hi.js":"ETHv","./hr":"V4qH","./hr.js":"V4qH","./hu":"xne+","./hu.js":"xne+","./hy-am":"GrS7","./hy-am.js":"GrS7","./id":"yRTJ","./id.js":"yRTJ","./is":"upln","./is.js":"upln","./it":"FKXc","./it.js":"FKXc","./ja":"ORgI","./ja.js":"ORgI","./jv":"JwiF","./jv.js":"JwiF","./ka":"RnJI","./ka.js":"RnJI","./kk":"j+vx","./kk.js":"j+vx","./km":"5j66","./km.js":"5j66","./kn":"gEQe","./kn.js":"gEQe","./ko":"eBB/","./ko.js":"eBB/","./ky":"6cf8","./ky.js":"6cf8","./lb":"z3hR","./lb.js":"z3hR","./lo":"nE8X","./lo.js":"nE8X","./lt":"/6P1","./lt.js":"/6P1","./lv":"jxEH","./lv.js":"jxEH","./me":"svD2","./me.js":"svD2","./mi":"gEU3","./mi.js":"gEU3","./mk":"Ab7C","./mk.js":"Ab7C","./ml":"oo1B","./ml.js":"oo1B","./mn":"CqHt","./mn.js":"CqHt","./mr":"5vPg","./mr.js":"5vPg","./ms":"ooba","./ms-my":"G++c","./ms-my.js":"G++c","./ms.js":"ooba","./mt":"oCzW","./mt.js":"oCzW","./my":"F+2e","./my.js":"F+2e","./nb":"FlzV","./nb.js":"FlzV","./ne":"/mhn","./ne.js":"/mhn","./nl":"3K28","./nl-be":"Bp2f","./nl-be.js":"Bp2f","./nl.js":"3K28","./nn":"C7av","./nn.js":"C7av","./pa-in":"pfs9","./pa-in.js":"pfs9","./pl":"7LV+","./pl.js":"7LV+","./pt":"ZoSI","./pt-br":"AoDM","./pt-br.js":"AoDM","./pt.js":"ZoSI","./ro":"wT5f","./ro.js":"wT5f","./ru":"ulq9","./ru.js":"ulq9","./sd":"fW1y","./sd.js":"fW1y","./se":"5Omq","./se.js":"5Omq","./si":"Lgqo","./si.js":"Lgqo","./sk":"OUMt","./sk.js":"OUMt","./sl":"2s1U","./sl.js":"2s1U","./sq":"V0td","./sq.js":"V0td","./sr":"f4W3","./sr-cyrl":"c1x4","./sr-cyrl.js":"c1x4","./sr.js":"f4W3","./ss":"7Q8x","./ss.js":"7Q8x","./sv":"Fpqq","./sv.js":"Fpqq","./sw":"DSXN","./sw.js":"DSXN","./ta":"+7/x","./ta.js":"+7/x","./te":"Nlnz","./te.js":"Nlnz","./tet":"gUgh","./tet.js":"gUgh","./tg":"5SNd","./tg.js":"5SNd","./th":"XzD+","./th.js":"XzD+","./tl-ph":"3LKG","./tl-ph.js":"3LKG","./tlh":"m7yE","./tlh.js":"m7yE","./tr":"k+5o","./tr.js":"k+5o","./tzl":"iNtv","./tzl.js":"iNtv","./tzm":"FRPF","./tzm-latn":"krPU","./tzm-latn.js":"krPU","./tzm.js":"FRPF","./ug-cn":"To0v","./ug-cn.js":"To0v","./uk":"ntHu","./uk.js":"ntHu","./ur":"uSe8","./ur.js":"uSe8","./uz":"XU1s","./uz-latn":"/bsm","./uz-latn.js":"/bsm","./uz.js":"XU1s","./vi":"0X8Q","./vi.js":"0X8Q","./x-pseudo":"e/KL","./x-pseudo.js":"e/KL","./yo":"YXlc","./yo.js":"YXlc","./zh-cn":"Vz2w","./zh-cn.js":"Vz2w","./zh-hk":"ZUyn","./zh-hk.js":"ZUyn","./zh-tw":"BbgG","./zh-tw.js":"BbgG"};function i(t){return e(n(t))}function n(t){var s=a[t];if(!(s+1))throw new Error("Cannot find module '"+t+"'.");return s}i.keys=function(){return Object.keys(a)},i.resolve=n,t.exports=i,i.id="uslO"},w17N:function(t,s){},wAOu:function(t,s){},wsFY:function(t,s){}},["NHnr"]);
//# sourceMappingURL=app.f521408fd377dc61ded5.js.map